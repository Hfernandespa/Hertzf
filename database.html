<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banco de Dados CAFL - Harmonizador Fernandes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #3b82f6;
            --secondary-color: #8b5cf6;
            --accent-color: #f59e0b;
            --success-color: #10b981;
            --warning-color: #fbbf24;
            --danger-color: #ef4444;
            --dark-bg: #1e293b;
            --darker-bg: #0f172a;
            --card-bg: #1f2937;
            --text-primary: #ffffff;
            --text-secondary: #9ca3af;
        }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            min-height: 100vh;
        }

        .database-container {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .search-highlight {
            background-color: rgba(59, 130, 246, 0.3);
            padding: 0 2px;
            border-radius: 2px;
        }

        .frequency-card {
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .frequency-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border-color: var(--primary-color);
        }

        .category-badge {
            font-size: 0.75rem;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
        }

        .filter-section {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stats-card {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));
            border-left: 4px solid var(--primary-color);
        }

        .modal-content {
            background: linear-gradient(135deg, #1e293b, #334155);
            border: 2px solid var(--primary-color);
        }

        /* Scrollbar personalizada */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-color);
        }

        /* Animações */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        /* Loading spinner */
        .spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 3px solid var(--primary-color);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Header Styles */
        .header-gradient {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.95), rgba(15, 23, 42, 0.95)), 
                        url('https://images.unsplash.com/photo-1518709268805-4e9042af2176?q=80&w=2070&auto=format&fit=crop') center/cover;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header-gradient border-b border-gray-700">
        <div class="container mx-auto px-4 py-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="flex items-center space-x-4">
                    <a href="index.html" class="flex items-center space-x-2">
                        <i class="fas fa-wave-square text-3xl text-blue-400"></i>
                        <div>
                            <h1 class="text-2xl font-bold text-white">Harmonizador Fernandes</h1>
                            <p class="text-sm text-blue-200">Banco de Dados CAFL</p>
                        </div>
                    </a>
                </div>
                <nav class="mt-4 md:mt-0">
                    <div class="flex space-x-6">
                        <a href="index.html" class="text-blue-400 hover:text-blue-300 transition">
                            <i class="fas fa-home mr-1"></i>Início
                        </a>
                        <a href="#" class="text-green-400 font-semibold">
                            <i class="fas fa-database mr-1"></i>Banco de Dados
                        </a>
                    </div>
                </nav>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- Page Title -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold mb-2 bg-gradient-to-r from-green-400 to-blue-600 bg-clip-text text-transparent">
                Banco de Dados CAFL
            </h1>
            <p class="text-gray-400 text-lg">Consolidated Annotated Frequency List - v2023_05_25</p>
            <p class="text-gray-500 text-sm mt-2">Fonte: turf@mindspring.com</p>
        </div>

        <!-- Estatísticas -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
            <div class="stats-card rounded-lg p-4">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-400 text-sm">Total Frequências</p>
                        <p class="text-2xl font-bold text-white" id="totalCount">0</p>
                    </div>
                    <i class="fas fa-wave-square text-3xl text-blue-400"></i>
                </div>
            </div>
            <div class="stats-card rounded-lg p-4">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-400 text-sm">Categorias</p>
                        <p class="text-2xl font-bold text-white" id="categoryCount">0</p>
                    </div>
                    <i class="fas fa-tags text-3xl text-purple-400"></i>
                </div>
            </div>
            <div class="stats-card rounded-lg p-4">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-400 text-sm">Filtrados</p>
                        <p class="text-2xl font-bold text-white" id="filteredCount">0</p>
                    </div>
                    <i class="fas fa-filter text-3xl text-green-400"></i>
                </div>
            </div>
            <div class="stats-card rounded-lg p-4">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-400 text-sm">Faixa (Hz)</p>
                        <p class="text-lg font-bold text-white" id="freqRange">0-0</p>
                    </div>
                    <i class="fas fa-chart-line text-3xl text-yellow-400"></i>
                </div>
            </div>
        </div>

        <!-- Main Database Container -->
        <div class="database-container rounded-xl p-6 shadow-2xl">
            <div class="flex flex-col lg:flex-row gap-6">
                <!-- Filtros -->
                <div class="lg:w-1/4">
                    <div class="filter-section rounded-lg p-4 sticky top-4">
                        <h3 class="text-lg font-semibold mb-4 text-blue-400">
                            <i class="fas fa-filter mr-2"></i>Filtros Avançados
                        </h3>
                        
                        <!-- Busca Rápida -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-2">Busca Rápida</label>
                            <div class="relative">
                                <input type="text" id="quickSearch" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Buscar...">
                                <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                            </div>
                        </div>

                        <!-- Categoria -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-2">Categoria</label>
                            <select id="categoryFilter" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="">Todas</option>
                                <option value="inflamacao">Inflamação</option>
                                <option value="dor">Dor</option>
                                <option value="infecao">Infecção</option>
                                <option value="parasita">Parasita</option>
                                <option value="virus">Vírus</option>
                                <option value="bacteria">Bactéria</option>
                                <option value="fungo">Fungo</option>
                                <option value="cancer">Câncer</option>
                                <option value="sistema-nervoso">Sistema Nervoso</option>
                                <option value="sistema-digestivo">Sistema Digestivo</option>
                                <option value="respiratorio">Respiratório</option>
                                <option value="pele">Pele</option>
                                <option value="mental">Mental/Emocional</option>
                            </select>
                        </div>

                        <!-- Faixa de Frequência -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-2">Faixa de Frequência (Hz)</label>
                            <div class="grid grid-cols-2 gap-2">
                                <input type="number" id="minFreq" placeholder="Mín" class="bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <input type="number" id="maxFreq" placeholder="Máx" class="bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                        </div>

                        <!-- Tipo de Onda -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-2">Tipo de Onda</label>
                            <select id="waveTypeFilter" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="">Todos</option>
                                <option value="square">Quadrada</option>
                                <option value="sine">Senoidal</option>
                                <option value="sawtooth">Dente de Serra</option>
                                <option value="triangle">Triangular</option>
                            </select>
                        </div>

                        <!-- Ordenação -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-2">Ordenar por</label>
                            <select id="sortBy" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="name">Nome</option>
                                <option value="frequency">Frequência</option>
                                <option value="category">Categoria</option>
                            </select>
                        </div>

                        <!-- Botões -->
                        <div class="space-y-2">
                            <button id="applyFilters" class="w-full bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg transition">
                                <i class="fas fa-check mr-2"></i>Aplicar Filtros
                            </button>
                            <button id="clearFilters" class="w-full bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg transition">
                                <i class="fas fa-times mr-2"></i>Limpar Filtros
                            </button>
                            <button id="exportData" class="w-full bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg transition">
                                <i class="fas fa-download mr-2"></i>Exportar Dados
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Resultados -->
                <div class="lg:w-3/4">
                    <!-- Barra de Status -->
                    <div class="flex justify-between items-center mb-4">
                        <div class="text-sm text-gray-400">
                            Mostrando <span id="showingStart">0</span> a <span id="showingEnd">0</span> de <span id="totalResults">0</span> resultados
                        </div>
                        <div class="flex items-center gap-2">
                            <select id="itemsPerPage" class="bg-gray-700 border border-gray-600 rounded-lg px-3 py-1 text-sm">
                                <option value="10">10 por página</option>
                                <option value="25">25 por página</option>
                                <option value="50">50 por página</option>
                                <option value="100">100 por página</option>
                            </select>
                        </div>
                    </div>

                    <!-- Container de Resultados -->
                    <div id="resultsContainer" class="space-y-3 max-h-[600px] overflow-y-auto custom-scrollbar">
                        <!-- Loading -->
                        <div id="loading" class="flex justify-center items-center h-64">
                            <div class="spinner"></div>
                        </div>
                    </div>

                    <!-- Paginação -->
                    <div id="pagination" class="flex justify-center items-center mt-6 gap-2">
                        <!-- Paginação será inserida dinamicamente -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Detalhes -->
    <div id="detailModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="modal-content rounded-xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-start mb-4">
                <h3 id="modalTitle" class="text-2xl font-bold text-white"></h3>
                <button onclick="closeModal()" class="text-gray-400 hover:text-white text-2xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="modalContent" class="space-y-4">
                <!-- Conteúdo do modal será inserido dinamicamente -->
            </div>
        </div>
    </div>

    <script>
        // Dados do CAFL (versão reduzida para exemplo - inclua todos os dados completos)
        const caflData = `CAFL
Lista de frequências anotadas consolidada, v2023_05_25, turf@mindspring.com
Todas as frequências em Hz
Inflamação abdominal - 2720, 2489, 2170, 2000, 1865, 1800, 1600, 1550, 880, 832, 802, 787, 776, 727, 660, 465, 450, 444, 440, 428, 380, 250, 146, 125, 95, 72, 20, 1,2
Dor abdominal - 10000, 3000, 95, 3
Abcessos (também use Staphylococcus aureus e veja Listeriose) - 2720, 2170, 1865, 1550, 880, 802, 787, 727, 500, 444, 190
Abcessos_1 - 2720, 2170, 1865, 1550, 880, 802, 787, 760, 727, 690, 660, 500, 465, 450, 444, 428, 190
Abcessos_secundários - 1550, 802, 760, 660, 465, 450, 444, 428
Acidose (hiperacidez. Também use um suplemento de cálcio e magnésio a longo prazo) - 10000, 880, 802, 787, 776, 727, 146, 20
Acne (execute 564 por 6 min) - 2720, 2170, 1800, 1600, 1550, 1552, 1500, 802, 880, 778, 787, 760, 741, 727, 660, 564, 465, 450, 444, 428
Acônito (usado para estimular a produção de linfócitos) - 3347, 5611, 2791
Actinobacillus (uma bactéria potencialmente patogênica encontrada em mamíferos, 773*, 776*, 778*, 822*) - 488, 565, 672, 674, 678, 773, 766, 768, 776, 777, 778, 822, 885, 887, 7877, 9687, 42664, 42666, 46668, 46787
Actinomyces_israelii (uma bactéria normalmente encontrada no intestino e na garganta que pode causar buracos profundos e cheios de pus no tecido. Veja também Streptothrix, 222*, 262*, 488*, 567*, 7880*) - 23, 222, 262, 2154, 465, 488, 567, 7880, 10000, 787, 747, 727, 20, 660, 690, 160, 73, 1.1
Actinomicose (usar Streptothrix)
Campo_de_perturbação_de_acupuntura (foco na cicatriz) - 5.9
Dor aguda - 3000, 95, 10000, 1550, 802, 880, 787, 727, 690, 666
Adenóides - 1550, 802, 880, 787, 776, 727, 444, 20, 428, 660, 2720, 2170, 14, 333, 523, 768, 786, 428, 1865, 590, 690, 780, 807, 810, 1570, 2000
Adenoma_cervical (tumor epitelial do colo do útero que pode ser benigno ou maligno. Veja também Câncer.) - 433
Adenovírus (um vírus que pode causar resfriados/gripes e infecções nos pulmões, estômago e intestinos) - 333, 523, 666, 786, 768, 959, 962
Adenovirus_36 (AD-36 pode estar relacionado ao ganho de peso em alguns casos) - 8875, 6140, 5859, 5797, 5219
Adenovirus_comp - 10000, 7767, 7762, 7702, 7009, 7001, 6989, 5000, 4868, 2720, 2050, 1500, 1395, 1062, 1060, 1034, 1009, 969, 968, 962, 959, 960, 952, 951, 942, 880, 1550, 802, 787, 768, 728, 690, 660, 555, 523, 522, 1865, 444, 333, 300, 180, 160, 125, 95, 72, 60, 48, 26, 20
Adenovírus_HC - 28729,05, 16628,88, 18471,00, 18670,15, 19566,32, 1407,93, 827,90, 919,62, 929,53, 974,15
Aderências - 2720, 2170, 1550, 802, 880, 787, 776, 760, 727, 660, 190
Anexite (inchaço dos ovários ou trompas de Falópio) - 440, 441, 522, 572, 3343, 3833, 5312
Estimulante_adrenal - 10, 20, 2250
Adynamia_geriatric (fadiga da idade) - 410, 220, 100, 60, 27,5
Aflatoxina (uma toxina prejudicial ao fígado produzida por certos fungos alimentares) - 344, 510, 943, 474, 476, 568
Aflatoxina_HC - 438,74, 466,01, 9359,97, 8812,31
Tripanossomíase africana - 656, 988, 780
Agyfla_HC - 3534,88, 175,99
AIDS_1 (não para uso nos EUA, veja HIV) - 2489, 465, 727, 787, 880, 1550, 1500, 1,2, 31000, 31750, 34750
AIDS_2 - 1,44, 1550, 1500, 249, 418, 727, 787, 880, 2489, 3100, 3175, 3475
AIDS_Kaposis_sarcoma (use Cancer_Kaposis_sarcoma)
AIDS_secundário (use 1113 por 12 min, 2128 por 16 min, 6121 por 21 min, 33 por 1 min) - 1113, 2128, 6121, 33
Acatisia - 230, 7,83, 3
Alcoolismo - 10000
Alergia (ver também Coqueluche) - 10000, 7344, 5000, 1550, 1234, 740, 880, 835, 787, 727, 500, 330, 160, 30, 3
Alergia_1 - 10000, 1865, 880, 787, 727, 690, 660, 555, 522, 473, 444, 330, 290, 146, 125, 95, 72, 33, 20, 3
Allergy_pollen_TR (pulso 64 75, convergência 2 0,03125, permanência 500) - 116113, 119061,03, 119441,8
Alopecia (perda de cabelo) - 10000, 30000, 5000, 2720, 2170, 1552, 880, 800, 787, 727, 465, 330, 146, 95, 28, 20, 3
Estreptococo alfa HC - 18919,09, 18670,15, 941,93, 929,53
ALS_1 (esclerose lateral amiotrópica, possivelmente causada por micoplasma fermentans. Use também MS e veja Echo virus, Coxsackie, Herpes 6, Bartonella e frequências de Lyme. Use 2900 por 30 min) - 2900, 864, 790, 690, 610, 470, 484, 986, 644, 254
ALS_2 (Potenciais vírus causadores) - 5000, 3636, 2632, 1850, 1500, 1488, 1422, 1189, 1044, 922, 868, 845, 822, 788, 776, 766, 742, 733, 721, 676, 654, 625, 620, 607, 608, 609, 610, 611, 612, 613, 595, 515, 487, 461, 435, 423, 380, 322, 283, 232, 144, 136, 20
ALS_3 (use 2900 por 60 min) - 2900
ALS_4 (também usado para MS) - 10000, 5000, 2900, 2750, 2700, 2145, 938, 862, 841, 777, 766, 741, 739, 688, 682, 660, 572, 532, 520, 477, 442, 433, 344, 343, 342, 338, 324, 322, 253, 242, 112
ALS_5 (use 2900 por 20 min) - 2900, 986, 864, 790, 728, 690, 660, 644, 980, 692, 610, 484, 254
Alternaria_tenuis (um fungo associado a doenças pulmonares) - 853, 304
Alzheimers_1 (veja também conjuntos de ELA) - 430, 620, 624, 840, 866, 5148, 2213, 19180,5, 742,4, 303, 23,2, 3773,3, 943,3, 471,66, 470,9, 941,8, 3767,3
Alzheimer_2 - 19180,5, 2213, 5148, 866, 840, 624, 620, 430
Alzheimer_TR - 430, 620, 624, 866, 5148, 2213, 1918, 742,4, 303, 23,2, 2900, 864, 790, 690, 610, 470, 484, 986, 644, 254, 30, 33, 6
Amenorréia (ausência de menstruação) - 10000, 880, 1550, 802, 787, 760, 727, 465, 20
Ameba (um microrganismo unicelular, às vezes infeccioso) - 310, 333, 532, 732, 769, 827, 1522
Amoeba_hepar_abcess (abcesso hepático causado por infecção amebiana) - 344, 605, 510, 943
Disenteria amebiana (use Entamoeba histolytica)
Esclerose lateral amiotrópica (usar ELA)
Anal_itching (também use Parasitas enterobíase e veja Conjunto geral de parasitas) - 10000, 880, 787, 760, 727, 465, 125, 120, 95, 72, 444, 1865, 20, 773, 826, 827, 835, 4152
Anafilaxia - 10000
Anaplasma_marginale_HC - 19267,60, 959,28, 21010,14, 1046,03
Aneurisma - 880, 787, 760, 727, 465, 125, 95, 72, 444, 1865, 20, 727
Angina_angustia (inflamação do gânglio linfático da garganta) - 787, 776, 727, 690, 465, 428, 660
Angina_pectoris - 3, 230, 2720, 2170, 1800, 1600, 1500, 880, 832, 787, 776, 727, 465, 444, 1865, 125, 95, 72, 20, 660, 7,83
Espondilite anquilosante (artrite da coluna. Use 326 períodos mais longos após o acúmulo) - 3000, 95, 1550, 802, 880, 787, 776, 727, 650, 625, 600, 28, 10, 35, 28, 7,69, 1,2, 110, 100, 60, 428, 680, 326
Anosmia (perda do olfato) - 20, 10000
Antraz (veja também Bacillus_anthracis_HC) - 4000, 16655, 1370, 1365, 930, 900, 768, 633, 500, 420, 414, 400, 273, 224, 129
Antraz_1 - 644, 643, 642, 639, 638, 637, 634, 633, 632, 629, 628, 627, 624, 623, 622
Antisséptico (use antisséptico geral)
Ansiedade_1 (Transtorno de ansiedade geral. Use 1,5 por 3 min, 6,8, 7,8 por 5 min, 95 por 3 min, 10000 por 5 min) - 1,5, 6,8, 7,8, 95, 10000
Apoplexia_derrame_paralisia - 40, 1800, 880, 787, 727, 650, 625, 600, 125, 95, 72, 20, 1865, 522, 428
Apendicite (Procure ajuda médica! Se ocorrer microperfuração, a infecção deve ser eliminada antes de beber água ou comer. Mesmo algumas gotas de água podem ser fatais) - 1550, 802, 880, 787, 727, 444, 380, 190, 10, 650, 444, 522, 125, 95, 72, 20, 522, 146, 440, 450
Apendicite_1 - 1770, 1570, 880, 807, 804, 1550, 802, 787, 728, 690, 660, 622, 650, 625, 600, 450, 1865, 444, 440, 380, 190, 146, 125, 522, 95, 72, 20, 10
Falta_de_apetite_de - 465, 444, 1865, 125, 95, 72, 20, 10000, 880, 787, 727
Arenas_tennus - 667
Arnica (uma erva de cura tópica) - 1042, 1032
Arryhthmia_heart_TR (também use magnésio, CoQ10 e óleo de peixe) - 696, 7,83
Arsenic_alb (sal celular homeopático) - 562
Arteriosclerose (endurecimento das artérias; a regeneração leva tempo. Experimente também nanobactérias, coxsackie e frequências de CMV) - 10000, 2720, 2170, 1800, 1600, 1500, 880, 787, 776, 727, 20
Artrite_A - 1500, 727, 784, 880
Artrite_artralgia_devido_à_gota - 9.39
Artrite (artrose e distúrbios da paratireoide que afetam o metabolismo do cálcio) - 9,6
Artrite (origem focal gastrogênica tonsiltogênica e paresia) - 9,39
Artrite_geral (use Strep pneumonia e Mycoplasma geral se necessário) - 10000, 5000, 2720, 1664, 1550, 1500, 962, 880, 802, 800, 787, 776, 766, 727, 688, 683, 650, 625, 600, 120, 20
Artrite_1 (use 1,5 por 10 min, 120 por 20 min) - 10000, 5000, 3176, 3000, 2720, 1664, 1550, 1500, 880, 802, 787, 770, 728, 690, 660, 512, 250, 230, 120, 100, 80, 60, 40, 30, 28, 26, 25, 20, 10, 9,4, 9,39, 7,7, 7,69, 3, 1,5, 1,2
Artrite_reumatoide (A causa pode ser bactérias como estreptococos pneumoniae, clamídia pneumonia, micoplasma fermentans ou bactérias dentárias que também devem ser tratadas. Tente também antisséptico geral e parasitas lombrigas em geral se não houver resposta. Use 766 períodos mais longos após a acumulação.) - 250, 1,2, 650, 625, 600, 787, 727, 262, 776, 766
Artrite_secundária - 2720, 1000, 1500, 770
Gripe_asiática_A - 516, 656, 434
Aspergillus_flavus (mofo encontrado em milho, amendoim e grãos que produz aflatoxina) - 1823, 247, 1972
Aspergillus_geral - 1972, 1823, 758, 743, 697, 524, 374, 339, 247
Aspergillus_glaucus (mofo azul que ocorre em alguns processos infecciosos humanos) - 524, 758
Aspergillus_niger (mofo comum que pode produzir infecção grave e persistente) - 374, 697
Aspergillus_terreus (mofo ocasionalmente associado à infecção dos brônquios e pulmões) - 743, 339
Asma (veja também Suporte ao fígado e Parasitas ascaris e use Mycoplasma geral se necessário) - 7344, 3702, 3672, 2720, 2170, 1800, 1600, 1500, 1283, 1234, 1233, 880, 787, 727, 522, 444, 146, 125, 95, 72, 20, 0,5
Asma_1 - 1283, 1233, 4.7
Asma_2 (todas as frequências por 5 min) - 1234, 3672, 7346, 727, 787, 880, 10000, 47, 120
Asma_v - 3125, 3124, 890, 886, 871, 822, 782, 756, 712, 665, 633, 521, 515, 487, 434, 411, 322, 263, 172, 128
Astrocitoma (use Câncer, astrocitoma)
Ataxia (incoordenação dos músculos. Resultados lentos em alguns casos) - 2720, 2170, 1800, 1600, 1500, 880, 787, 776, 727, 650, 625, 600, 444, 1865, 125, 95, 72, 20
Ataxia_espástica - 9,19, 8,25, 7,69
Aterosclerose (os micróbios comumente presentes na placa são herpes zoster e pneumonia por clamídia, este conjunto combina os dois. Use também magnésio e vitamina C para ajudar a reduzir depósitos minerais) - 7543,4, 7520,5, 4710,5, 3773,3, 3760,3, 1886, 1880, 943,3, 940, 620, 479, 471,66, 470,9, 941,8, 3767,3, 7160, 3343, 2431, 2323, 1577, 1544, 40887, 958, 934, 787, 786, 738, 718, 716, 686, 668, 643, 576, 574, 573, 572, 563, 554, 542, 453, 446, 436, 425, 423, 411, 345, 333, 223, 134
Pé de atleta (veja também as frequências de Epidermophyton floccinum, Tinea e Trichophyton rubrum. Use todas as frequências por 5 min) - 20, 379, 727, 787, 880, 5000, 644, 766, 464, 802, 1552, 9999, 752, 923, 3176, 304
Atmênico_Alb - 562
Distúrbio_do_déficit_de_atenção (Provavelmente é importante evitar conservantes, aspartame, corantes, MSG e outras toxinas potenciais, além de limitar açúcar e amidos, mas garantir proteína adequada e bons óleos na dieta. Experimente Shigella, Chlamydia pneum. e antisséptico geral)
Autismo (é necessário fazer desintoxicação de mercúrio e alumínio se for um problema. Tente Measles_w_vaccine.)
Autointoxicação - 522, 146, 1550, 10000, 800, 880, 787, 727, 20
Babesia - 76, 570, 1583, 1584, 432, 753, 5776
Bacillinum (nosódio homeopático) - 132, 423, 432, 785, 853, 854, 921, 1027, 1042, 1932
Bacillus_anthracis_HC - 19665,89, 18122,49, 18321,64, 19317,38, 961,76, 912,18, 902,27, 979,11
Baccilus_cereus - 18645,26, 928,29
Bacillus_Coli_Rod_Form - 8020, 800, 683, 417, 318
Bacillus_Coli_Vírus - 17220, 11103, 8581, 2872, 1722, 1552, 770
Infecções por Bacillus (B. coli, B. coli bacilo) - 787, 880, 802, 727, 1552, 800
Bacillus_lichenoformis - 2655, 21554
Bacillus_subtilis (pode causar conjuntivite) - 432, 722, 822, 1246
Bacillus_subtilis_niger_HC - 19168.02, 18919.09, 18670,15, 954.32, 941.93, 929,53
Bacilo_thuringiensis - 520, 2551, 902, 1405
Dor nas costas_1 (se não houver alívio com estes, use frequências de estimulação renal, magnésio e B6, e beba bastante água. Use 212 e 305 por 6 min e 33 por 5 min) - 10000, 1550, 880, 802, 787, 760, 727, 305, 212, 41,2, 33
Dor nas costas_2 - 787, 784, 776, 728, 727, 465, 432, 9,6, 9,4, 9,3, 7,7, 7,6, 3, 0,5
Dor nas costas e espasmos_1 - 120, 212, 240, 424, 465, 528, 760, 727, 787, 880, 1550, 2112, 5000, 10000
Dor nas costas_crônica_inferior_1 (use com as costas voltadas para o tubo. Use 728 por 30min) - 728
Bactéria_lactis_nosode - 512, 526, 798, 951, 5412
Cápsulas bacterianas_HC - 20786.10, 17923.34, 1034.88, 892,35
Bacterial_infections_general (se a infecção bacteriana for crônica e o tipo for diagnosticado com precisão e nem as frequências nem os antibióticos forem eficazes a longo prazo, use também os conjuntos Parasitas gerais e lombrigas. Veja também Antissépticos gerais e tipos específicos.) - 20, 465, 866, 664, 690, 727, 787, 832, 800, 880, 1550, 784
Bacterium_coli (um tipo de E. coli normalmente encontrado nos intestinos, água, leite e solo, que é a causa mais frequente de infecções do trato urinário e uma causa comum de infecção de feridas) - 642, 358, 539
Bactéria_coli_comuna_combinação - 282, 333, 413, 957, 1320, 1722
Bacteroides_fragilis (usar com conjunto Parasitas ascaris) - 633, 634, 635, 636, 637
Bacteroides_fragilis_HC - 16180,80, 16230,58, 808,07, 805,59
Mau hálito (use Halitose)
Bakers_Yeast_allergy (preparação homeopática) - 775, 843, 1000
Balantidium_coli_HC (cistos. B. coli é o maior protozoário ciliado encontrado em humanos e pode causar colite grave com ulcerações) - 22902.05, 1140.23
Síndrome de Bantis (Doença na qual os vasos sanguíneos entre os intestinos e o fígado ficam bloqueados, levando à congestão das veias, aumento do baço, sangramento do estômago e intestinos, cirrose hepática e destruição das células sanguíneas.) - 1778
Carvão de cevada (preparação homeopática para um alérgeno) - 377, 224, 1447
Barretts_esophagus_1 (alterações nas células esofágicas geralmente causadas por refluxo ácido. use 2127,5 por 6 min) - 10000, 880, 802, 787, 776, 676, 727, 20, 146, 2127,5
Bartonella_henslae (vírus que causa a febre da arranhadura do gato) - 364, 379, 645, 654, 786, 840, 842, 844, 846, 848, 850, 857, 967, 6878, 634, 696, 716, 1518
Basidiomicetos - 751
BC_G_Vacina - 277, 768, 832, 725
Enurese (ver também Parasita geral, oxiúros e frequências de ascaris) - 1550, 880, 802, 787, 727, 465, 120, 112, 7,83
Escaras - 880, 1550, 802, 787, 784, 728, 727, 465, 20, 1,2, 73
Bells_Palsy_1 (veja também Herpes_general) - 2,4, 3, 3,9, 7,83, 20, 27,57, 33, 35, 40, 47,5, 57,5, 72, 90,88, 110, 125, 194, 222, 304, 393,5, 464, 565,5, 600, 625, 650, 727, 776, 787, 833, 880, 932,5, 1250
Bermuda_smut (preparação homeopática para um alérgeno) - 422, 767, 847, 971, 644, 780
Besnoitia_HC (protozoário retirado da seção pulmonar) - 17823,77, 887,39
Beta_estreptococo_HC - 19168.02, 954,32
Ducto biliar_1 (espasmos e dor) - 2, 2.2, 2.5, 2.7, 3.2, 3.5
Cirrose biliar (uma condição inflamatória na qual o fluxo de bile através do fígado é obstruído) - 381, 514, 677, 2271, 1250, 170, 715, 774, 776
Dor de cabeça biliar - 8,5, 3,5
Biliousness - 1550, 802, 10000, 880, 832, 787, 727, 465
Bilirrubina (um pigmento biliar que pode resultar em icterícia em altas concentrações. Veja também Suporte ao fígado) - 717, 726, 731, 863, 9305, 649, 734
Aranha_viúva_negra - 376, 728
Queixas_da_bexiga_e_da_próstata - 2050, 880, 1550, 802, 787, 727, 465, 20, 9,39
Bexiga_TBC - 642, 771, 360, 726, 724
Blastocystis_hominis (595*, 13469*) - 365, 595, 844, 848, 1201, 1243, 5777, 11425, 11841, 11967, 13145, 13469, 21776
Blefarisma - 3120
Blefarisma_HC - 20238.44, 1007.61
Doenças do sangue - 880, 787, 727
Pressão_sanguínea_alta (use Hipertensão)
Pressão_sanguínea_baixa (use Hipotensão)
Blue_cohosh (uma erva curativa) - 364
Furúnculos (use Furunkulose)
Doença_óssea_e_doença_periodontal (veja Osteo freq. Use 728 por 15min. combine com nutrição adequada, especialmente proteínas e ácidos graxos essenciais, e minerais, especialmente cálcio e magnésio) - 47,5, 1800, 1600, 650, 625, 600, 880, 787, 776, 728
Regeneração óssea (combinar com nutrição adequada, especialmente proteínas, e minerais, especialmente cálcio e magnésio) - 2720, 10000
Bone_spurs (também use suplemento mineral mais bromelina em altas doses e água) - 1,2, 120, 250
Trauma ósseo (cortes, fraturas) - 380, 1550, 802, 10000, 880, 787, 727, 2720
Bordetella_pertussis_HC - 16479,52, 820,47
Borrelia (use doença de Lyme)
Borrelia_burgdorferi_HC (causa doença de Lyme, veja também Lyme_disease) - 18919.09, 941,93
Botrítis - 1545
Botrytis_cinereas - 1132, 212
Botulinum (um bacilo que causa uma forma frequentemente fatal de intoxicação alimentar) - 518, 533, 639, 172, 1372, 691, 683, 253, 435, 668, 775, 2688, 660, 690, 727, 802, 1550, 831, 1552, 10000
Neuralgia_braquial - 0,5
Brain_beta_stim_TR (7,83 executado em serviço 5, 22 e 19,5 executado em serviço 30 e pulso 7,83 50) - 7,83, 22, 19,5
Tumor cerebral (use tipo específico: câncer, droglioma, astrocitoma e/ou glioma)
Branhamella_Moraxella_catarrhalis - 2013, 579, 581, 687, 770, 772, 775, 778, 2013
Branhamella_Neisseria_catarrhalis_HC - 19715.68, 981,59
Cistos de miomas mamários (use também cápsulas de casca de noz preta e tocoferóis mistos, se possível) - 1550, 1384, 880, 802, 787, 776, 727, 690, 666, 267
Breast_tumor_benign_TR (também inclui varredura de 19351,563 a 10406,25 por .03125 de permanência 1) - 174, 482, 785, 1132, 5311, 3965, 405, 633, 191, 178, 731, 6646, 178, 739,8, 2959,4, 1234, 3702, 3672, 7344, 7760, 10357, 10380
Respiração_profunda - 1234, 3702, 3672, 7344, 7760
Brights_syndrome (use Nefrite)
Asma brônquica (use Asma)
Pneumonia brônquica (use Pneumonia, brônquica)
Bronquiectasia (dilatação crônica dos brônquios) - 342, 510, 778
Bronquite - 7344, 3672, 1234, 880, 743, 727, 683, 464, 452, 333, 72, 20, 9,39, 9,35
Bronquite_secundária - 776, 766, 688
Broncopneumonia_borinum (use Pneumonia, brônquica)
Picada de aranha marrom reclusa (também use bastante equinácea e vitamina C) - 724, 884, 1830, 3260, 30008
Brucella_abortus (febre ondulante ou bacilo de Bang, encontrado em bovinos) - 1423
Brucella_melitensis (forma de Brucella encontrada em cabras e ovelhas) - 748, 643, 695
Contusões - 9.1, 110, 10000
Praga_bubônica (use Versenia pestis)
Infecções secundárias da peste bubônica - 880, 787, 727, 20
Joanete_dor - 20
Queimaduras - 190, 10000, 880, 787, 727, 465, 200
Bursite (pode ser causada por vários organismos e vírus; experimente também com frequências de artrite.) - 880, 787, 727
BX_Virus (use Cancer_BX_virus)
BY_Virus (use Cancer_BY_virus)
Celiácia - 674
Calcificações - 326
Calmante - 6000
Campylobacter (bactéria que causa diarreia infecciosa súbita em recém-nascidos, 732*, 1633*, 333*) - 732, 733, 1633, 1834, 2222, 786, 768, 523, 333, 378, 705,86, 2823,5
Campylobacter_fetus_HC (esfregaço) - 18321.64, 912,18
Campylobacter_pyloridid_HC - 17674,41, 879,96`;

        // Classe do Banco de Dados
        class FrequencyDatabase {
            constructor() {
                this.frequencies = [];
                this.filteredFrequencies = [];
                this.currentPage = 1;
                this.itemsPerPage = 25;
                this.filters = {
                    search: '',
                    category: '',
                    minFreq: '',
                    maxFreq: '',
                    waveType: ''
                };
                this.sortBy = 'name';
                this.init();
            }

            init() {
                // Processar dados do CAFL
                this.frequencies = this.processCAFLData(caflData);
                this.filteredFrequencies = [...this.frequencies];
                this.setupEventListeners();
                this.updateStats();
                this.render();
                
                // Esconder loading
                document.getElementById('loading').style.display = 'none';
            }

            processCAFLData(data) {
                const lines = data.split('\n');
                const frequencies = [];
                
                for (let i = 0; i < lines.length; i++) {
                    const line = lines[i].trim();
                    if (!line || line.startsWith('CAFL') || line.startsWith('Lista de frequências') || line.startsWith('Todas as frequências')) {
                        continue;
                    }
                    
                    if (line.includes(' - ')) {
                        const parts = line.split(' - ');
                        if (parts.length >= 2) {
                            const name = parts[0].trim();
                            const freqValues = parts[1].trim();
                            
                            // Determinar categoria baseada no nome
                            let category = 'geral';
                            const nameLower = name.toLowerCase();
                            
                            if (nameLower.includes('inflamação') || nameLower.includes('inflamacao')) category = 'inflamacao';
                            else if (nameLower.includes('dor') || nameLower.includes('algia')) category = 'dor';
                            else if (nameLower.includes('infec') || nameLower.includes('bacteria') || nameLower.includes('bacillus')) category = 'bacteria';
                            else if (nameLower.includes('virus') || nameLower.includes('vírus')) category = 'virus';
                            else if (nameLower.includes('fungo') || nameLower.includes('aspergillus') || nameLower.includes('candida')) category = 'fungo';
                            else if (nameLower.includes('cancer') || nameLower.includes('tumor') || nameLower.includes('carcinoma')) category = 'cancer';
                            else if (nameLower.includes('parasita') || nameLower.includes('ameba') || nameLower.includes('giardia')) category = 'parasita';
                            else if (nameLower.includes('asma') || nameLower.includes('bronquite') || nameLower.includes('respiratorio')) category = 'respiratorio';
                            else if (nameLower.includes('pele') || nameLower.includes('dermat') || nameLower.includes('acne')) category = 'pele';
                            else if (nameLower.includes('ansiedade') || nameLower.includes('depress') || nameLower.includes('mental')) category = 'mental';
                            else if (nameLower.includes('sistema nervoso') || nameLower.includes('neuro') || nameLower.includes('als') || nameLower.includes('alzheimer')) category = 'sistema-nervoso';
                            else if (nameLower.includes('digestivo') || nameLower.includes('intestinal') || nameLower.includes('colite') || nameLower.includes('fígado')) category = 'sistema-digestivo';
                            
                            frequencies.push({
                                id: frequencies.length + 1,
                                name: name,
                                frequency: freqValues,
                                category: category,
                                description: `Frequências para tratamento de ${name}`,
                                source: 'CAFL v2023_05_25',
                                waveType: 'square',
                                duration: '5-10 min'
                            });
                        }
                    }
                }
                
                return frequencies;
            }

            setupEventListeners() {
                // Busca rápida
                document.getElementById('quickSearch').addEventListener('input', (e) => {
                    this.filters.search = e.target.value.toLowerCase();
                    this.applyFilters();
                });

                // Filtros
                document.getElementById('categoryFilter').addEventListener('change', (e) => {
                    this.filters.category = e.target.value;
                    this.applyFilters();
                });

                document.getElementById('minFreq').addEventListener('input', (e) => {
                    this.filters.minFreq = e.target.value;
                });

                document.getElementById('maxFreq').addEventListener('input', (e) => {
                    this.filters.maxFreq = e.target.value;
                });

                document.getElementById('waveTypeFilter').addEventListener('change', (e) => {
                    this.filters.waveType = e.target.value;
                    this.applyFilters();
                });

                document.getElementById('sortBy').addEventListener('change', (e) => {
                    this.sortBy = e.target.value;
                    this.applyFilters();
                });

                // Botões
                document.getElementById('applyFilters').addEventListener('click', () => {
                    this.applyFilters();
                });

                document.getElementById('clearFilters').addEventListener('click', () => {
                    this.clearFilters();
                });

                document.getElementById('exportData').addEventListener('click', () => {
                    this.exportData();
                });

                document.getElementById('itemsPerPage').addEventListener('change', (e) => {
                    this.itemsPerPage = parseInt(e.target.value);
                    this.currentPage = 1;
                    this.render();
                });
            }

            applyFilters() {
                this.filteredFrequencies = this.frequencies.filter(freq => {
                    // Filtro de busca
                    if (this.filters.search && 
                        !freq.name.toLowerCase().includes(this.filters.search) &&
                        !freq.description.toLowerCase().includes(this.filters.search)) {
                        return false;
                    }

                    // Filtro de categoria
                    if (this.filters.category && freq.category !== this.filters.category) {
                        return false;
                    }

                    // Filtro de faixa de frequência
                    if (this.filters.minFreq || this.filters.maxFreq) {
                        const freqs = freq.frequency.split(',').map(f => parseFloat(f.trim()));
                        const min = this.filters.minFreq ? parseFloat(this.filters.minFreq) : 0;
                        const max = this.filters.maxFreq ? parseFloat(this.filters.maxFreq) : Infinity;

                        if (!freqs.some(f => f >= min && f <= max)) {
                            return false;
                        }
                    }

                    // Filtro de tipo de onda
                    if (this.filters.waveType && freq.waveType !== this.filters.waveType) {
                        return false;
                    }

                    return true;
                });

                // Ordenar
                this.filteredFrequencies.sort((a, b) => {
                    switch (this.sortBy) {
                        case 'name':
                            return a.name.localeCompare(b.name);
                        case 'frequency':
                            const aFreq = parseFloat(a.frequency.split(',')[0]);
                            const bFreq = parseFloat(b.frequency.split(',')[0]);
                            return aFreq - bFreq;
                        case 'category':
                            return a.category.localeCompare(b.category);
                        default:
                            return 0;
                    }
                });

                this.currentPage = 1;
                this.render();
                this.updateStats();
            }

            clearFilters() {
                this.filters = {
                    search: '',
                    category: '',
                    minFreq: '',
                    maxFreq: '',
                    waveType: ''
                };
                
                document.getElementById('quickSearch').value = '';
                document.getElementById('categoryFilter').value = '';
                document.getElementById('minFreq').value = '';
                document.getElementById('maxFreq').value = '';
                document.getElementById('waveTypeFilter').value = '';
                
                this.applyFilters();
            }

            updateStats() {
                document.getElementById('totalCount').textContent = this.frequencies.length;
                document.getElementById('filteredCount').textContent = this.filteredFrequencies.length;
                
                // Contar categorias
                const categories = [...new Set(this.frequencies.map(f => f.category))];
                document.getElementById('categoryCount').textContent = categories.length;
                
                // Calcular faixa de frequência
                const allFreqs = this.frequencies.flatMap(f => 
                    f.frequency.split(',').map(freq => parseFloat(freq.trim()))
                ).filter(freq => !isNaN(freq));
                
                const minFreq = Math.min(...allFreqs);
                const maxFreq = Math.max(...allFreqs);
                document.getElementById('freqRange').textContent = `${minFreq.toFixed(1)}-${maxFreq.toFixed(1)}`;
            }

            render() {
                const container = document.getElementById('resultsContainer');
                container.innerHTML = '';

                const start = (this.currentPage - 1) * this.itemsPerPage;
                const end = start + this.itemsPerPage;
                const pageItems = this.filteredFrequencies.slice(start, end);

                pageItems.forEach(freq => {
                    const card = this.createFrequencyCard(freq);
                    container.appendChild(card);
                });

                this.renderPagination();
                this.updateShowingInfo();
            }

            createFrequencyCard(freq) {
                const card = document.createElement('div');
                card.className = 'frequency-card bg-gray-800 rounded-lg p-4 fade-in';
                
                const firstFreq = freq.frequency.split(',')[0].trim();
                const freqCount = freq.frequency.split(',').length;
                
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="text-lg font-semibold text-white">${freq.name}</h3>
                        <span class="category-badge bg-${this.getCategoryColor(freq.category)}-600 text-white">
                            ${this.getCategoryName(freq.category)}
                        </span>
                    </div>
                    
                    <div class="mb-3">
                        <div class="text-sm text-gray-400 mb-1">Frequências (${freqCount})</div>
                        <div class="font-mono text-sm text-blue-400">${firstFreq}${freqCount > 1 ? '...' : ''} Hz</div>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div class="text-xs text-gray-500">
                            <i class="fas fa-clock mr-1"></i>${freq.duration}
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="database.useFrequency(${freq.id})" class="bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-sm transition">
                                <i class="fas fa-play mr-1"></i>Usar
                            </button>
                            <button onclick="database.showDetails(${freq.id})" class="bg-gray-600 hover:bg-gray-700 px-3 py-1 rounded text-sm transition">
                                <i class="fas fa-info-circle mr-1"></i>Detalhes
                            </button>
                        </div>
                    </div>
                `;
                
                return card;
            }

            getCategoryColor(category) {
                const colors = {
                    'inflamacao': 'red',
                    'dor': 'orange',
                    'bacteria': 'yellow',
                    'virus': 'purple',
                    'fungo': 'green',
                    'cancer': 'pink',
                    'parasita': 'indigo',
                    'respiratorio': 'blue',
                    'pele': 'teal',
                    'mental': 'purple',
                    'sistema-nervoso': 'blue',
                    'sistema-digestivo': 'green',
                    'geral': 'gray'
                };
                return colors[category] || 'gray';
            }

            getCategoryName(category) {
                const names = {
                    'inflamacao': 'Inflamação',
                    'dor': 'Dor',
                    'bacteria': 'Bactéria',
                    'virus': 'Vírus',
                    'fungo': 'Fungo',
                    'cancer': 'Câncer',
                    'parasita': 'Parasita',
                    'respiratorio': 'Respiratório',
                    'pele': 'Pele',
                    'mental': 'Mental/Emocional',
                    'sistema-nervoso': 'Sistema Nervoso',
                    'sistema-digestivo': 'Sistema Digestivo',
                    'geral': 'Geral'
                };
                return names[category] || category;
            }

            renderPagination() {
                const pagination = document.getElementById('pagination');
                pagination.innerHTML = '';

                const totalPages = Math.ceil(this.filteredFrequencies.length / this.itemsPerPage);
                
                if (totalPages <= 1) return;

                // Botão Anterior
                const prevBtn = document.createElement('button');
                prevBtn.className = `px-3 py-1 rounded-lg ${this.currentPage === 1 ? 'bg-gray-700 cursor-not-allowed' : 'bg-gray-600 hover:bg-gray-500'}`;
                prevBtn.innerHTML = '<i class="fas fa-chevron-left"></i>';
                prevBtn.disabled = this.currentPage === 1;
                prevBtn.onclick = () => {
                    if (this.currentPage > 1) {
                        this.currentPage--;
                        this.render();
                    }
                };
                pagination.appendChild(prevBtn);

                // Números de página
                const maxVisible = 5;
                let startPage = Math.max(1, this.currentPage - Math.floor(maxVisible / 2));
                let endPage = Math.min(totalPages, startPage + maxVisible - 1);
                
                if (endPage - startPage < maxVisible - 1) {
                    startPage = Math.max(1, endPage - maxVisible + 1);
                }

                for (let i = startPage; i <= endPage; i++) {
                    const pageBtn = document.createElement('button');
                    pageBtn.className = `px-3 py-1 rounded-lg ${i === this.currentPage ? 'bg-blue-600' : 'bg-gray-600 hover:bg-gray-500'}`;
                    pageBtn.textContent = i;
                    pageBtn.onclick = () => {
                        this.currentPage = i;
                        this.render();
                    };
                    pagination.appendChild(pageBtn);
                }

                // Botão Próximo
                const nextBtn = document.createElement('button');
                nextBtn.className = `px-3 py-1 rounded-lg ${this.currentPage === totalPages ? 'bg-gray-700 cursor-not-allowed' : 'bg-gray-600 hover:bg-gray-500'}`;
                nextBtn.innerHTML = '<i class="fas fa-chevron-right"></i>';
                nextBtn.disabled = this.currentPage === totalPages;
                nextBtn.onclick = () => {
                    if (this.currentPage < totalPages) {
                        this.currentPage++;
                        this.render();
                    }
                };
                pagination.appendChild(nextBtn);
            }

            updateShowingInfo() {
                const start = (this.currentPage - 1) * this.itemsPerPage + 1;
                const end = Math.min(this.currentPage * this.itemsPerPage, this.filteredFrequencies.length);
                
                document.getElementById('showingStart').textContent = start;
                document.getElementById('showingEnd').textContent = end;
                document.getElementById('totalResults').textContent = this.filteredFrequencies.length;
            }

            useFrequency(id) {
                const freq = this.frequencies.find(f => f.id === id);
                if (freq) {
                    const firstFreq = freq.frequency.split(',')[0].trim();
                    
                    // Se estiver na página principal do Harmonizador, atualizar o gerador
                    if (window.opener && window.opener.document.getElementById('frequency')) {
                        window.opener.document.getElementById('frequency').value = firstFreq;
                        window.opener.document.getElementById('currentInfo').innerHTML = `
                            <div class="text-xl font-bold text-blue-400">${firstFreq} Hz</div>
                            <div class="text-lg font-medium">${freq.name}</div>
                        `;
                    } else {
                        // Se não, abrir o index.html em uma nova aba
                        window.open(`index.html?frequency=${firstFreq}&name=${encodeURIComponent(freq.name)}`, '_blank');
                    }
                    
                    alert(`Frequência ${firstFreq} Hz selecionada para ${freq.name}`);
                }
            }

            showDetails(id) {
                const freq = this.frequencies.find(f => f.id === id);
                if (freq) {
                    const modal = document.getElementById('detailModal');
                    const modalTitle = document.getElementById('modalTitle');
                    const modalContent = document.getElementById('modalContent');
                    
                    modalTitle.textContent = freq.name;
                    
                    modalContent.innerHTML = `
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="font-semibold text-blue-400 mb-2">Frequências</h4>
                                <div class="bg-gray-800 p-3 rounded-lg">
                                    <code class="text-sm text-green-400">${freq.frequency}</code>
                                </div>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-blue-400 mb-2">Informações</h4>
                                <div class="space-y-2 text-sm">
                                    <div><span class="text-gray-400">Categoria:</span> ${this.getCategoryName(freq.category)}</div>
                                    <div><span class="text-gray-400">Tipo de Onda:</span> ${freq.waveType}</div>
                                    <div><span class="text-gray-400">Duração:</span> ${freq.duration}</div>
                                    <div><span class="text-gray-400">Fonte:</span> ${freq.source}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <h4 class="font-semibold text-blue-400 mb-2">Descrição</h4>
                            <p class="text-gray-300">${freq.description}</p>
                        </div>
                        
                        <div class="mt-6 flex justify-end space-x-3">
                            <button onclick="database.useFrequency(${freq.id})" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg">
                                <i class="fas fa-play mr-2"></i>Usar Frequência
                            </button>
                            <button onclick="closeModal()" class="bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg">
                                Fechar
                            </button>
                        </div>
                    `;
                    
                    modal.classList.remove('hidden');
                    modal.classList.add('flex');
                }
            }

            exportData() {
                const data = this.filteredFrequencies.map(freq => ({
                    Nome: freq.name,
                    Frequencias: freq.frequency,
                    Categoria: this.getCategoryName(freq.category),
                    Descricao: freq.description,
                    Fonte: freq.source,
                    'Tipo de Onda': freq.waveType,
                    Duracao: freq.duration
                }));
                
                const csv = this.convertToCSV(data);
                const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                const url = URL.createObjectURL(blob);
                link.setAttribute('href', url);
                link.setAttribute('download', 'cafl_frequencies.csv');
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }

            convertToCSV(data) {
                const headers = Object.keys(data[0]);
                const csvHeaders = headers.join(',');
                const csvRows = data.map(row => 
                    headers.map(header => `"${row[header] || ''}"`).join(',')
                );
                return csvHeaders + '\n' + csvRows.join('\n');
            }
        }

        // Função global para fechar modal
        function closeModal() {
            const modal = document.getElementById('detailModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        // Inicializar o banco de dados
        const database = new FrequencyDatabase();
    </script>
</body>
</html>
